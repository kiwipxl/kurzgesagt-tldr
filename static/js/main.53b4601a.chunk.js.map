{"version":3,"sources":["pages/HomePage.js","components/VideoDetailsNav.js","components/LastUpdatedTimestamp.js","components/VideoTranscript.js","components/VideoSources.js","components/VideoTags.js","components/Video.js","components/VideoSoundTrack.js","components/MissingDetails.js","Endpoint.js","components/ErrorMessage.js","pages/VideoDetailsPage.js","pages/NotFoundPage.js","components/VideoCard.js","components/VideoFeed.js","assets/logo.png","components/Header.js","App.js","serviceWorker.js","index.js"],"names":["props","setHeaderOptions","className","children","routerHistory","useHistory","Nav","variant","onSelect","eventKey","replace","videoId","onClickTab","activeKey","tab","defaultActiveKey","defaultTab","Item","Link","disabled","hasSources","hasTranscript","hasTags","hasSoundTrack","timestampMillis","lastUpdateTime","DateTime","fromMillis","parseInt","toRelative","Card","Body","parse","transcript","replaceAll","LastUpdatedTimestamp","lastUpdated","domainTagColours","chroma","getDomainTagColour","domain","i","hash","length","charCodeAt","Math","abs","renderContent","index","citationIndex","sources","keyPoints","keyPoint","renderKeyPointContent","push","title","content","type","data","matches","exec","url","domainTag","colour","borderColour","darken","textColour","alpha","href","target","style","backgroundColor","hex","borderColor","color","quote","tags","map","tag","desc","React","useState","playerHeight","setPlayerHeight","playerRef","useRef","resizeObserver","ResizeObserver","entries","clientWidth","useEffect","observe","current","ref","width","height","id","description","match","paragraph","endChar","min","showingMoreDetails","setShowingMoreDetails","Alert","Heading","message","details","onClick","DetailsContainer","noContentBox","useParams","setTab","videoDetails","setVideoDetails","isFetching","setIsFetching","fetchError","setFetchError","window","location","hashTab","fetch","Endpoint","then","res","json","catch","err","console","error","ErrorMessage","Spinner","animation","role","undefined","en","info","soundtrack","detailsEl","Video","last_scraped","VideoSources","last_updated","MissingDetails","VideoTranscript","VideoTags","VideoSoundTrack","VideoDetailsNav","newTab","viewsShortHand","imgHeight","setImgHeight","imgRef","numViews","round","toString","publishDateRelative","fromISO","publishedAt","durationFormatted","Duration","duration","toFormat","durationString","foundStart","char","clientHeight","durationPositionY","Img","src","thumbnail","top","Title","Text","rootRef","scrollTo","scrollY","items","setItems","lastFetchError","setLastFetchError","onScroll","ev","firstElementChild","getClientRects","bottom","innerHeight","params","startAt","maxResults","queryString","stringify","newItems","concat","addEventListener","removeEventListener","video","thumbnails","maxresUrl","standardUrl","highUrl","mediumUrl","defaultUrl","VideoCard","onVideoClick","expanded","setExpanded","pageYOffset","marginTop","showBack","goBack","logo","alt","AppSwitch","feedItems","setFeedItems","feedScrollY","setFeedScrollY","exact","path","HomePage","VideoFeed","VideoDetailsPage","NotFoundPage","from","to","App","showBackButton","setShowBackButton","basename","Header","Boolean","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.53b4601a.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default (props) => {\r\n    props.setHeaderOptions(false);\r\n    \r\n    return (\r\n      <div className='content-container'>\r\n          <div className='content'>\r\n            {props.children}\r\n          </div>\r\n      </div>\r\n    );\r\n};","import Nav from 'react-bootstrap/Nav';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default (props) => {\r\n    const routerHistory = useHistory();\r\n\r\n    const onClick = (eventKey) => {\r\n        routerHistory.replace(`/video/${props.videoId}#${eventKey}`);\r\n\r\n        if (props.onClickTab) {\r\n            props.onClickTab(eventKey);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Nav\r\n            variant=\"pills\"\r\n            onSelect={onClick}\r\n            activeKey={props.tab || \"\"}\r\n            defaultActiveKey={props.defaultTab}\r\n        >\r\n            <Nav.Item>\r\n                <Nav.Link eventKey=\"video\">Video</Nav.Link>\r\n            </Nav.Item>\r\n\r\n            <Nav.Item>\r\n                <Nav.Link eventKey=\"sources\" disabled={!props.hasSources}>Sources</Nav.Link>\r\n            </Nav.Item>\r\n\r\n            <Nav.Item>\r\n                <Nav.Link eventKey=\"transcript\" disabled={!props.hasTranscript}>Transcript</Nav.Link>\r\n            </Nav.Item>\r\n\r\n            <Nav.Item>\r\n                <Nav.Link eventKey=\"tags\" disabled={!props.hasTags}>Tags</Nav.Link>\r\n            </Nav.Item>\r\n\r\n            <Nav.Item>\r\n                <Nav.Link eventKey=\"soundtrack\" disabled={!props.hasSoundTrack}>Soundtrack</Nav.Link>\r\n            </Nav.Item>\r\n        </Nav>\r\n    );\r\n};","import { DateTime } from 'luxon';\r\n\r\nexport default (props) => {\r\n    if (!props.timestampMillis) {\r\n        return null;\r\n    }\r\n\r\n    const lastUpdateTime = DateTime.fromMillis(parseInt(props.timestampMillis)).toRelative();\r\n\r\n    return (\r\n        <span className='last-updated'>{'Last updated ' + lastUpdateTime}</span>\r\n    );\r\n};","import Card from 'react-bootstrap/Card';\r\nimport parse from 'html-react-parser';\r\nimport LastUpdatedTimestamp from './LastUpdatedTimestamp';\r\n\r\nexport default (props) => {\r\n    return (\r\n        <div>\r\n            <Card className='video-details-card'>\r\n                <Card.Body>\r\n                    <div>\r\n                        {parse(props.transcript.replaceAll('\\n', '<br/>'))}\r\n                    </div>\r\n                </Card.Body>\r\n            </Card>\r\n            \r\n            <LastUpdatedTimestamp timestampMillis={props.lastUpdated}/>\r\n        </div>\r\n    );\r\n};","import Card from 'react-bootstrap/Card';\r\nimport chroma from 'chroma-js';\r\nimport LastUpdatedTimestamp from './LastUpdatedTimestamp';\r\n\r\nconst domainTagColours = [chroma('#8dd3c7'),chroma('#ffffb3'),chroma('#bebada'),chroma('#fb8072'),chroma('#80b1d3'),chroma('#fdb462'),chroma('#b3de69'),chroma('#fccde5'),chroma('#d9d9d9'),chroma('#bc80bd'),chroma('#ccebc5'),chroma('#ffed6f')];\r\n\r\nfunction getDomainTagColour(domain) {\r\n    // each unique tag has it's own colour. generate a hash and index into the colour\r\n    // array to find it's colour.\r\n\r\n    // generate a 32bit signed integer hash\r\n    // https://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript\r\n    var hash = 0, i, chr;\r\n    for (i = 0; i < domain.length; i++) {\r\n        chr = domain.charCodeAt(i);\r\n        hash = ((hash << 5) - hash) + chr;\r\n        hash |= 0;\r\n    }\r\n    \r\n    return domainTagColours[Math.abs(hash) % domainTagColours.length];\r\n}\r\n\r\nexport default (props) => {\r\n    let renderContent = [];\r\n    let index = 0;\r\n    let citationIndex = 0;\r\n\r\n    for (const keyPoint of props.sources.keyPoints) {\r\n        let renderKeyPointContent = [];\r\n        renderKeyPointContent.push(<h4>{keyPoint.title}</h4>);\r\n\r\n        for (const content of keyPoint.content) {\r\n            switch (content.type) {\r\n                case 'text':\r\n                    renderKeyPointContent.push(<p>{content.data}</p>);\r\n                    break;\r\n\r\n                case 'citation':\r\n                    // Find the domain name of the citation url and create a little\r\n                    // tag from it that the user can click.\r\n                    const pattern = /(http[s]?:\\/\\/)?(www\\.)?([a-zA-Z0-9\\.-]+)\\//g;\r\n                    const matches = pattern.exec(content.data.url);\r\n                    \r\n                    let domainTag = null;\r\n\r\n                    if (matches) {\r\n                        const domain = matches[3];\r\n                        let colour = getDomainTagColour(domain);\r\n                        const borderColour = chroma(colour).darken();\r\n                        const textColour = chroma(colour).darken(2);\r\n                        colour = colour.alpha(0.5);\r\n\r\n                        domainTag = \r\n                            <a\r\n                                className='sources-domain-tag'\r\n                                href={'http://' + domain}\r\n                                target='_blank'\r\n                                style={{\r\n                                    backgroundColor: colour.hex(), \r\n                                    borderColor: borderColour.hex(), \r\n                                    color: textColour.hex()\r\n                                }}\r\n                            >\r\n                                {domain}\r\n                            </a>;\r\n                    }\r\n\r\n                    // Render citation\r\n                    renderKeyPointContent.push(\r\n                        <span className='citation-link'>\r\n                            <span className='sources-number'>{(citationIndex + 1) + '.'}</span>\r\n                            <a href={content.data.url} target='_blank'>\r\n                                {content.data.title ? content.data.title : content.data.url}\r\n                            </a>\r\n                            {domainTag}\r\n                        </span>\r\n                    );\r\n\r\n                    renderKeyPointContent.push(<br/>);\r\n                    renderKeyPointContent.push(<span className='sources-quote'>{content.data.quote}</span>);\r\n                    renderKeyPointContent.push(<p/>);\r\n\r\n                    ++citationIndex;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        renderContent.push(<div key={index} className='sources-key-point'>{renderKeyPointContent}</div>);\r\n\r\n        ++index;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Card className='video-details-card'>\r\n                <Card.Body>\r\n                    <p className='info-box'>\r\n                        This section is the citations and further reading provided by Kurzgesagt at\r\n                        <a href={props.sources.url} target='_blank'>{' ' + props.sources.url}</a>\r\n                    </p>\r\n\r\n                    {renderContent}\r\n                </Card.Body>\r\n            </Card>\r\n\r\n            <LastUpdatedTimestamp timestampMillis={props.lastUpdated}/>\r\n        </div>\r\n    );\r\n};","import Card from 'react-bootstrap/Card';\r\nimport LastUpdatedTimestamp from './LastUpdatedTimestamp';\r\n\r\nexport default (props) => {\r\n    return (\r\n        <div>\r\n            <Card className='video-details-card'>\r\n                <Card.Body>\r\n                    <div className='chip-grid'>\r\n                        {props.tags.map((tag) => (\r\n                            <div key={tag} className='chip'>\r\n                                {tag}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </Card.Body>\r\n            </Card>\r\n\r\n            <LastUpdatedTimestamp timestampMillis={props.lastUpdated}/>\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport parse from 'html-react-parser';\r\nimport ReactPlayer from 'react-player/youtube';\r\nimport LastUpdatedTimestamp from './LastUpdatedTimestamp';\r\n\r\n// Quick and easy way to convert description to HTML elements\r\nfunction parseDescription(desc) {\r\n    desc = desc.replaceAll(\"\\n\", '\\n');\r\n    desc = desc.replaceAll(/(.+)/g, (match, paragraph) => {\r\n        return `<span>${paragraph}</span>`;\r\n    });\r\n\r\n    const urlRegex = /(http[s]?:\\/\\/[a-zA-Z0-9\\-\\_\\*\\?\\=\\&\\.\\/]+)([ \\\\n]?)/g;\r\n    desc = desc.replaceAll(urlRegex, (match, url, endChar) => {\r\n        return `<a href=\"${url}\" target=\"_blank\">${url}</a>` + endChar;\r\n    });\r\n\r\n    desc = desc.replaceAll('\\n', \"<br/>\");\r\n\r\n    return parse(desc);\r\n}\r\n\r\nexport default (props) => {\r\n    const [playerHeight, setPlayerHeight] = React.useState(0);\r\n    const playerRef = React.useRef(null);\r\n\r\n    const resizeObserver = new ResizeObserver(entries => {\r\n        const aspectRatio = 16.0 / 9.0;\r\n        setPlayerHeight(entries[0].target.clientWidth / aspectRatio);\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        resizeObserver.observe(playerRef.current);\r\n    }, []);\r\n    \r\n    return (\r\n        <div>\r\n            <Card className='video-details-card'>\r\n                <div ref={playerRef} className='youtube-player'>\r\n                    <ReactPlayer\r\n                        width='100%'\r\n                        height={playerHeight}\r\n                        url={`https://www.youtube.com/watch?v=${props.id}`}\r\n                    />\r\n                </div>\r\n\r\n                <Card.Body>\r\n                    {parseDescription(props.description)}\r\n                </Card.Body>\r\n            </Card>\r\n\r\n            <LastUpdatedTimestamp timestampMillis={props.lastUpdated}/>\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ReactPlayer from 'react-player/soundcloud';\r\nimport LastUpdatedTimestamp from './LastUpdatedTimestamp';\r\n\r\nexport default (props) => {\r\n    const [playerHeight, setPlayerHeight] = React.useState(0);\r\n    const playerRef = React.useRef(null);\r\n\r\n    const resizeObserver = new ResizeObserver(entries => {\r\n        const aspectRatio = 16.0 / 9.0;\r\n        const maxHeight = 280;\r\n        setPlayerHeight(Math.min(entries[0].target.clientWidth / aspectRatio, maxHeight));\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        if (playerRef.current) {\r\n            resizeObserver.observe(playerRef.current);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <Card className='video-details-card'>\r\n                <Card.Body>\r\n                    <div ref={playerRef}>\r\n                        <ReactPlayer\r\n                            width='100%'\r\n                            height={playerHeight}\r\n                            url={props.url}\r\n                        />\r\n                    </div>\r\n                </Card.Body>\r\n            </Card>\r\n\r\n            <LastUpdatedTimestamp timestampMillis={props.lastUpdated}/>\r\n        </div>\r\n    );\r\n};","import Card from 'react-bootstrap/Card';\r\n\r\nexport default (props) => {\r\n    return (\r\n        <Card className='video-details-card'>\r\n            <Card.Body>\r\n                <div className='missing-details'>\r\n                    No {props.tab} could be found for this video. :(\r\n                </div>\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n};","\r\nexport default {\r\n  url: 'http://192.168.43.58:7800'\r\n};\r\n","import React from 'react';\r\nimport Alert from 'react-bootstrap/Alert';\r\n\r\nexport default (props) => {\r\n    const [showingMoreDetails, setShowingMoreDetails] = React.useState(false);\r\n\r\n    return (\r\n        <Alert variant='danger'>\r\n            {props.title && \r\n                <Alert.Heading>\r\n                    {props.title}\r\n                </Alert.Heading>\r\n            }\r\n\r\n            {props.message && \r\n                <p>\r\n                    {props.message}\r\n                </p>\r\n            }\r\n\r\n            {showingMoreDetails && \r\n                <div>\r\n                    <hr/>\r\n                    \r\n                    <p>\r\n                        {props.details}\r\n                    </p>\r\n\r\n                    <a className='error-toggle-details' onClick={() => setShowingMoreDetails(false)}>\r\n                        Show less details\r\n                    </a>\r\n                </div>\r\n            }\r\n\r\n            {!showingMoreDetails &&\r\n                <a className='error-toggle-details' onClick={() => setShowingMoreDetails(true)}>\r\n                    Show more details\r\n                </a>\r\n            }\r\n        </Alert>\r\n    );\r\n};","import React from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport VideoDetailsNav from '../components/VideoDetailsNav';\r\nimport VideoTranscript from '../components/VideoTranscript';\r\nimport VideoSources from '../components/VideoSources';\r\nimport VideoTags from '../components/VideoTags';\r\nimport Video from '../components/Video';\r\nimport VideoSoundTrack from '../components/VideoSoundTrack';\r\nimport MissingDetails from '../components/MissingDetails';\r\nimport Endpoint from '../Endpoint';\r\nimport ErrorMessage from '../components/ErrorMessage';\r\n\r\nfunction DetailsContainer(props) {\r\n    const routerHistory = useHistory();\r\n\r\n    return (\r\n        <div className='content-container'>\r\n            {!props.noContentBox &&\r\n                <div className='content'>\r\n                    {props.children}\r\n                </div>\r\n            }\r\n\r\n            {props.noContentBox && \r\n                <div>\r\n                    {props.children}\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default (props) => {\r\n    const { videoId } = useParams();\r\n    const defaultTab = 'video';\r\n\r\n    const [tab, setTab] = React.useState(defaultTab);\r\n    const [videoDetails, setVideoDetails] = React.useState({});\r\n    const [isFetching, setIsFetching] = React.useState(true);\r\n    const [fetchError, setFetchError] = React.useState();\r\n\r\n    props.setHeaderOptions(true);\r\n\r\n    if (window.location.hash !== '') {\r\n        // Override current tab with hash tab (e.g. /video/3mnSDifDSxQ#transcript)\r\n        const hashTab = window.location.hash.replace('#', '');\r\n        if (hashTab !== tab) {\r\n            setTab(hashTab);\r\n        }\r\n    }\r\n\r\n    function onClickTab(newTab) {\r\n        setTab(newTab);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        fetch(`${Endpoint.url}/video/${videoId}`)\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                setVideoDetails(json);\r\n                setIsFetching(false);\r\n            })\r\n            .catch(err => {\r\n                console.error(`failed to fetch video details for ${videoId}`, err);\r\n                setFetchError(err);\r\n            });\r\n    }, []);\r\n\r\n    if (fetchError) {\r\n        return (\r\n            <DetailsContainer noContentBox>\r\n                <ErrorMessage\r\n                    title=\"There was an error while fetching video details!\"\r\n                    details={fetchError.message}\r\n                />\r\n            </DetailsContainer>\r\n        );\r\n    }\r\n\r\n    if (isFetching) {\r\n        return (\r\n            <DetailsContainer>\r\n                <div className='center'>\r\n                    <Spinner animation=\"border\" role=\"status\">\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                    </Spinner>\r\n                </div>\r\n            </DetailsContainer>\r\n        );\r\n    }\r\n\r\n    const hasSources = videoDetails.sources != undefined;\r\n    const hasTranscript = videoDetails.transcript != undefined && videoDetails.transcript.en != undefined;\r\n    const hasSoundTrack = videoDetails.info.soundtrack != undefined;\r\n    const hasTags = videoDetails.tags != undefined;\r\n\r\n    let detailsEl = null;\r\n    switch (tab) {\r\n        case 'video':\r\n            detailsEl = \r\n                <Video\r\n                    id={videoDetails.info.id}\r\n                    description={videoDetails.info.description}\r\n                    lastUpdated={videoDetails.info.last_scraped}\r\n                />;\r\n            break;\r\n\r\n        case 'sources':\r\n            if (hasSources) {\r\n                detailsEl = \r\n                    <VideoSources\r\n                        sources={videoDetails.sources}\r\n                        lastUpdated={videoDetails.sources.last_updated}\r\n                    />;\r\n            }else {\r\n                detailsEl = <MissingDetails tab={tab}/>;\r\n            }\r\n            break;\r\n\r\n        case 'transcript':\r\n            if (hasTranscript) {\r\n                detailsEl = \r\n                    <VideoTranscript\r\n                        transcript={videoDetails.transcript.en}\r\n                        lastUpdated={videoDetails.transcript.last_updated}\r\n                    />;\r\n            }else {\r\n                detailsEl = <MissingDetails tab={tab}/>;\r\n            }\r\n            break;\r\n        \r\n        case 'tags':\r\n            if (hasTags) {\r\n                detailsEl = \r\n                    <VideoTags\r\n                        tags={videoDetails.tags}\r\n                        lastUpdated={videoDetails.info.last_scraped}\r\n                    />;\r\n            }else {\r\n                detailsEl = <MissingDetails tab={tab}/>;\r\n            }\r\n            break;\r\n        \r\n        case 'soundtrack':\r\n            if (hasSoundTrack) {\r\n                detailsEl = \r\n                    <VideoSoundTrack\r\n                        url={videoDetails.info.soundtrack.url}\r\n                        lastUpdated={videoDetails.info.soundtrack.last_updated}\r\n                    />;\r\n            }else {\r\n                detailsEl = <MissingDetails tab={tab}/>;\r\n            }\r\n    }\r\n\r\n    return (\r\n        <DetailsContainer>\r\n            <h2 className='video-details-title'>\r\n                {videoDetails.info.title}\r\n            </h2>\r\n\r\n            <VideoDetailsNav\r\n                videoId={videoId}\r\n                tab={tab}\r\n                defaultTab={defaultTab}\r\n                onClickTab={onClickTab}\r\n\r\n                hasSources={hasSources}\r\n                hasTranscript={hasTranscript}\r\n                hasSoundTrack={hasSoundTrack}\r\n                hasTags={hasTags}\r\n            >\r\n\r\n            </VideoDetailsNav>\r\n\r\n            {detailsEl}\r\n        </DetailsContainer>\r\n    );\r\n};","import React from 'react';\r\nimport Alert from 'react-bootstrap/Alert';\r\n\r\nexport default (props) => {\r\n    props.setHeaderOptions(false);\r\n\r\n    return (\r\n        <div className='content-container'>\r\n            <Alert variant='warning'>\r\n                <Alert.Heading>\r\n                    Sorry, that page doesn't exist!\r\n                </Alert.Heading>\r\n            </Alert>\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport { DateTime, Duration } from 'luxon';\r\n\r\nexport default (props) => {\r\n    const [imgHeight, setImgHeight] = React.useState(0);\r\n    const imgRef = React.useRef(null);\r\n\r\n    let viewsShortHand;\r\n    if (props.numViews >= 1000000) {\r\n        viewsShortHand = (Math.round(props.numViews / 1000000 * 10) / 10).toString() + \"M\";\r\n    }else if (props.numViews >= 100000) {\r\n        viewsShortHand = Math.round(props.numViews / 1000).toString() + \"K\";\r\n    }else if (props.numViews >= 1000) {\r\n        viewsShortHand = (Math.round(props.numViews / 1000 * 10) / 10).toString() + \"K\";\r\n    }else {\r\n        viewsShortHand = props.numViews.toString();\r\n    }\r\n\r\n    const publishDateRelative = DateTime.fromISO(props.publishedAt).toRelative();\r\n    \r\n    const duration = Duration.fromISO(props.duration);\r\n    const durationFormatted = duration.toFormat(\"hh:mm:ss\");\r\n\r\n    let durationString = \"\";\r\n    let foundStart = false;\r\n    for (let char of durationFormatted) {\r\n        if (char != '0' && char != ':') {\r\n            foundStart = true;\r\n        }\r\n\r\n        if (foundStart) {\r\n            durationString += char;\r\n        }\r\n    }\r\n\r\n    // We need to watch when the image height changes (e.g. everytime the window size changes)\r\n    // so that we can offset our duration based on it.\r\n    const resizeObserver = new ResizeObserver(entries => {\r\n        setImgHeight(entries[0].target.clientHeight);\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        resizeObserver.observe(imgRef.current);\r\n    }, []);\r\n\r\n    let durationPositionY = 100;\r\n    if (imgHeight > 0) {\r\n        durationPositionY = imgHeight - 30;\r\n    }\r\n    \r\n    return (\r\n        <Card className=\"video-card\" onClick={() => {\r\n            if (props.onClick) {\r\n                props.onClick(props.id);\r\n            }\r\n        }}>\r\n            <Card.Img ref={imgRef} className=\"video-card-img\" variant=\"top\" src={props.thumbnail}/>\r\n            \r\n            {/*\r\n            Because Card.Img is a void element, it cannot have children.\r\n            And so how do we position our duration at the bottom of the image?\r\n            Here's an odd way - let's calculate the image height and offset it dynamically.\r\n            */}\r\n            <div className='video-card-duration' style={{top: durationPositionY}}>\r\n                {durationString}\r\n            </div>\r\n\r\n            <Card.Body>\r\n                <Card.Title className=\"video-card-title\">{props.title}</Card.Title>\r\n\r\n                <Card.Text className=\"video-card-info\">\r\n                {`${viewsShortHand} views | ${publishDateRelative}`}\r\n                </Card.Text>\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n}","import React from 'react';\r\nimport VideoCard from './VideoCard';\r\nimport queryString from 'query-string';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Endpoint from '../Endpoint';\r\nimport ErrorMessage from './ErrorMessage';\r\n\r\nexport default (props) => {\r\n  const rootRef = React.useRef(null);\r\n  if (!rootRef || !rootRef.current) {\r\n    // first time render, let's scroll immediately!\r\n    // we could put this in useEffect, but that will hapen after render and\r\n    // there will be a delay as a result.\r\n    window.scrollTo(0, props.scrollY || 0);\r\n  }\r\n  \r\n  const [items, setItems] = React.useState(props.items || []);\r\n  // start fetching immediately if we have no items\r\n  const [isFetching, setIsFetching] = React.useState(items.length == 0);\r\n  const [lastFetchError, setLastFetchError] = React.useState();\r\n\r\n  React.useEffect(() => {\r\n    if (!isFetching) {\r\n      return;\r\n    }\r\n\r\n    const params = {\r\n      startAt: items.length, \r\n      maxResults: 12\r\n    };\r\n\r\n    fetch(`${Endpoint.url}/?${queryString.stringify(params)}`)\r\n      .then(res => res.json())\r\n      .then(newItems => {\r\n        setItems(items.concat(newItems));\r\n        setIsFetching(false);\r\n      })\r\n      .catch(err => {\r\n        console.error('video feed fetch error', err);\r\n        setLastFetchError(err);\r\n      });\r\n  }, [isFetching]);\r\n\r\n  function onScroll(ev) {\r\n    if (!rootRef.current || !rootRef.current.firstElementChild) {\r\n      return;\r\n    }\r\n\r\n    const rootRefBottom = rootRef.current.getClientRects()[0].bottom;\r\n    const cardHeightPadding = 100; // rough value, good enough\r\n    const cardHeight = rootRef.current.firstElementChild.clientHeight + cardHeightPadding;\r\n\r\n    if (rootRefBottom - cardHeight <= window.innerHeight) {\r\n      setIsFetching(true);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener('scroll', onScroll);\r\n\r\n    return () => window.removeEventListener('scroll', onScroll);\r\n  }, []);\r\n\r\n  // If the initial fetch failed, show error\r\n  if (lastFetchError && items.length == 0) {\r\n    return (\r\n      <ErrorMessage\r\n        title=\"There was an error while fetching the video feed!\"\r\n        details={lastFetchError.message}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div ref={rootRef} className=\"video-feed\">\r\n      {items.map(video => {\r\n        const thumbnail = \r\n          video.thumbnails.maxresUrl || \r\n          video.thumbnails.standardUrl || \r\n          video.thumbnails.highUrl || \r\n          video.thumbnails.mediumUrl || \r\n          video.thumbnails.defaultUrl;\r\n\r\n        return (\r\n          <div key={video.id} className=\"video-feed-card-container\">\r\n            <VideoCard\r\n              id={video.id}\r\n              title={video.title}\r\n              numViews={video.numViews}\r\n              publishedAt={video.publishedAt}\r\n              thumbnail={thumbnail}\r\n              duration={video.duration}\r\n              onClick={() => props.onVideoClick && props.onVideoClick(video.id, items)}\r\n            >\r\n\r\n            </VideoCard>\r\n          </div>\r\n        );\r\n      })}\r\n\r\n      {isFetching && \r\n        <div className=\"video-feed-spinner\">\r\n          <Spinner animation=\"border\" role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </Spinner>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.bb2b2928.png\";","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport logo from '../assets/logo.png';\r\nimport { VscGithubInverted } from 'react-icons/vsc';\r\nimport { IoArrowBack } from 'react-icons/io5';\r\n\r\nexport default (props) => {\r\n    const [expanded, setExpanded] = React.useState(true);\r\n    const routerHistory = useHistory();\r\n\r\n  function onScroll(ev) {\r\n    setExpanded(expanded => {\r\n        return window.pageYOffset < 100;\r\n    })\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener('scroll', onScroll);\r\n\r\n    return () => window.removeEventListener('scroll', onScroll);\r\n  }, []);\r\n\r\n  function onClickBack() {\r\n    routerHistory.goBack();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className='header' style={{marginTop: expanded ? 0 : -70}}>\r\n          {props.showBack &&\r\n            <a onClick={onClickBack} className='header-back'>\r\n              <IoArrowBack className='header-back-icon' />\r\n            </a>\r\n          }\r\n\r\n          <a href='/' className='header-brand'>\r\n              <img\r\n                  className='header-logo'\r\n                  src={logo}\r\n                  alt='logo'\r\n              />\r\n\r\n              <span className='header-logo-text'>kurzgesagt-tldr</span>\r\n          </a>\r\n\r\n          <a href='https://github.com/kiwipxl/kurzgesagt-tldr' target='_blank' className='header-github'>\r\n              <VscGithubInverted className='header-github-icon' />\r\n          </a>\r\n      </div>\r\n\r\n      {props.children}\r\n    </div>\r\n  )\r\n};","import React from 'react';\r\nimport { BrowserRouter, Switch, Route, Redirect, useHistory } from 'react-router-dom';\r\nimport './App.css';\r\nimport HomePage from './pages/HomePage';\r\nimport VideoDetailsPage from './pages/VideoDetailsPage';\r\nimport NotFoundPage from './pages/NotFoundPage';\r\nimport VideoFeed from './components/VideoFeed';\r\nimport Header from './components/Header';\r\n\r\nfunction AppSwitch(props) {\r\n  const [feedItems, setFeedItems] = React.useState([]);\r\n  const [feedScrollY, setFeedScrollY] = React.useState(0);\r\n  const routerHistory = useHistory();\r\n\r\n  function onFeedVideoClick(id, items) {\r\n    setFeedItems(items);\r\n    setFeedScrollY(window.pageYOffset);\r\n    routerHistory.push(`/video/${id}`);\r\n  }\r\n\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\">\r\n        <HomePage setHeaderOptions={props.setHeaderOptions}>\r\n          <VideoFeed\r\n            items={feedItems}\r\n            scrollY={feedScrollY}\r\n            onVideoClick={onFeedVideoClick}>\r\n\r\n          </VideoFeed>\r\n        </HomePage>\r\n      </Route>\r\n\r\n      <Route path=\"/video/:videoId\">\r\n        <VideoDetailsPage setHeaderOptions={props.setHeaderOptions}></VideoDetailsPage>\r\n      </Route>\r\n\r\n      <Route path=\"/404\">\r\n        <NotFoundPage setHeaderOptions={props.setHeaderOptions}></NotFoundPage>\r\n      </Route>\r\n\r\n      <Redirect from='*' to='/404'></Redirect>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  const [showBackButton, setShowBackButton] = React.useState(false);\r\n\r\n  function setHeaderOptions(showBack) {\r\n    setShowBackButton(showBack);\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <BrowserRouter basename='/kurzgesagt-tldr'>\r\n        <Header showBack={showBackButton}>\r\n          <AppSwitch setHeaderOptions={setHeaderOptions}/>\r\n        </Header>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}